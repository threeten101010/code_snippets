# Reference: https://azureops.org/articles/bacpac-large-sql-server-database/
# Reference: https://learn.microsoft.com/en-us/sql/tools/sqlpackage/sqlpackage?view=sql-server-ver16

$PathVariables=$env:Path
$OldTemp = $env:TMP
$env:TMP = "C:\temp\SqlPackageTemp" #Set temporary location of temp folder.
$SourceServerName = "."
$SourceDatabaseName = "Database"
$BacpacPath = "C:\temp\"
 
SqlPackage.exe /a:Export /ssn:$SourceServerName /sdn:$SourceDatabaseName /stsc:True /tf:$BacpacPath$SourceDatabaseName".bacpac" /df:$BacpacPath$SourceDatabaseName".log"
 
$env:TMP = $OldTemp
